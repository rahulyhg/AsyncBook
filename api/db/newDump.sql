CREATE TABLE `book` (
	`id` INT UNSIGNED NOT NULL PRIMARY KEY AUTO_INCREMENT,
	`title` CHAR(255) CHARACTER SET utf8 NOT NULL,
	`user_id` INT UNSIGNED NOT NULL
);

CREATE TABLE `section` (
	`id` INT UNSIGNED NOT NULL PRIMARY KEY AUTO_INCREMENT,
	`book_id` INT UNSIGNED NOT NULL,
	`title` CHAR(255) CHARACTER SET utf8 NOT NULL,
	`user_id` INT UNSIGNED NOT NULL
);

CREATE TABLE `mind` (
	`id` INT UNSIGNED NOT NULL PRIMARY KEY AUTO_INCREMENT,
	`section_id` INT UNSIGNED NOT NULL,
	`title` CHAR(255) CHARACTER SET utf8 NOT NULL,
	`content` TEXT CHARACTER SET utf8 NOT NULL,
	`image` CHAR(255) CHARACTER SET utf8 NOT NULL,
	`user_id` INT UNSIGNED NOT NULL
);


ALTER TABLE `book` ADD FOREIGN KEY (`user_id`) REFERENCES `user` (`id`);
ALTER TABLE `section` ADD FOREIGN KEY (`book_id`) REFERENCES `book` (`id`);
ALTER TABLE `section` ADD FOREIGN KEY (`user_id`) REFERENCES `user` (`id`);
ALTER TABLE `mind` ADD FOREIGN KEY (`section_id`) REFERENCES `section` (`id`);
ALTER TABLE `mind` ADD FOREIGN KEY (`user_id`) REFERENCES `user` (`id`);
